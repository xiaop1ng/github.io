(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{300:function(s,n,t){"use strict";t.r(n);var a=t(4),e=Object(a.a)({},(function(){var s=this,n=s.$createElement,t=s._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"springboot-应用篇（二）"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#springboot-应用篇（二）"}},[s._v("#")]),s._v(" SpringBoot 应用篇（二）")]),s._v(" "),t("h2",{attrs:{id:"spring-胶水"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#spring-胶水"}},[s._v("#")]),s._v(" Spring 胶水")]),s._v(" "),t("p",[s._v("上一篇介绍了 SpringBoot 的开箱使用，我们需要知道 SpringBoot 本质上是 Spring 的一个解决方案，在我看来， Spring 主要解决了对象之间协作关系（依赖）的管理和对业务间的共同步骤的抽取问题。\n解决这些问题的同时也创造了一些小小的问题，我们编写 Spring 应用程序时往往需要大量的配置工作，当然这也很正常：一个精密的仪器往往也需要小心协调配置才能正确工作。\nSpringBoot 为此而生，一系列的 "),t("code",[s._v("starter")]),s._v(" 为我们解决了大量的配置工作。人类的进化史好像也是如此，进化的过程往往会带来许许多多的‘毛病’，然后我们在解决这些‘毛病’的过程中又会衍生出一些意想不到的‘毛病’，但是这些‘毛病’并不会阻止人类‘进化’的脚步。\n不得不说，Spring 这个优雅的框架是个多么有启发的方法论阿。")]),s._v(" "),t("h2",{attrs:{id:"使用之前"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用之前"}},[s._v("#")]),s._v(" 使用之前")]),s._v(" "),t("p",[s._v("SpringBoot 不仅优雅而且强大（漂亮得不像实力派，是吧？）\n使用之前还是看一下我们的小目标：\n一句话说就是：让 SpringBoot 给我们整一个好使的 web 框架粗来。\n怎么定义好使？\n模板能力(FreeMarker\\Thymeleaf\\mustache...)，我们在案例里面使用 FreeMarker；\nDB 能力，数据库连接使用 MySQL， 持久化层使用灵活的 MyBatis，数据库连接池使用阿里的 druid；还有部分第三方工具包就不在此赘述了。")]),s._v(" "),t("h2",{attrs:{id:"结构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#结构"}},[s._v("#")]),s._v(" 结构")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://img-blog.csdn.net/20180412141735786?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3hpYW9waW5nMDkxNQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70",alt:"项目结构"}})]),s._v(" "),t("h2",{attrs:{id:"部分代码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#部分代码"}},[s._v("#")]),s._v(" 部分代码")]),s._v(" "),t("ul",[t("li",[s._v("pom.xml")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("\t\t\x3c!-- 模板引擎 FreeMarker --\x3e\n\t\t<dependency>\n\t\t\t<groupId>org.springframework.boot</groupId>\n\t\t\t<artifactId>spring-boot-starter-freemarker</artifactId>\n\t\t</dependency>\n\t\t\n\t\t\x3c!-- 数据库连接池 Druid --\x3e\n\t\t<dependency>\n\t\t\t<groupId>com.alibaba</groupId>\n\t\t\t<artifactId>druid</artifactId>\n\t\t\t<version>1.1.0</version>\n\t\t</dependency>\n\n\t\t\x3c!-- 数据库连接 mysql-connector-java --\x3e\n\t\t<dependency>\n\t\t    <groupId>mysql</groupId>\n\t\t    <artifactId>mysql-connector-java</artifactId>\n\t\t    <version>5.1.6</version>\n\t\t</dependency>\n\n\t\t\x3c!-- mybatis 对应 SpringBoot 的 starter --\x3e\n\t\t<dependency>\n\t\t\t<groupId>org.mybatis.spring.boot</groupId>\n\t\t\t<artifactId>mybatis-spring-boot-starter</artifactId>\n\t\t\t<version>1.3.1</version>\n\t\t</dependency>\n\t\t\n\t\t\x3c!-- druid 对应 SpringBoot 的 starter --\x3e\n\t\t<dependency>\n\t\t    <groupId>com.alibaba</groupId>\n\t\t    <artifactId>druid-spring-boot-starter</artifactId>\n\t\t    <version>1.1.9</version>\n\t\t</dependency>\n\n\t\t\x3c!-- basemapper --\x3e\n\t\t<dependency>\n\t\t\t<groupId>tk.mybatis</groupId>\n\t\t\t<artifactId>mapper-spring-boot-starter</artifactId>\n\t\t\t<version>1.2.4</version>\n\t\t</dependency>\n\n\t\t\x3c!-- 分页工具 pagehelper --\x3e\n\t\t<dependency>\n\t\t\t<groupId>com.github.pagehelper</groupId>\n\t\t\t<artifactId>pagehelper-spring-boot-starter</artifactId>\n\t\t\t<version>1.2.3</version>\n\t\t</dependency>\n\n\t\t\n\t\t\x3c!-- 代码生成 mybatis-generator --\x3e\n\t\t<dependency>\n\t\t    <groupId>org.mybatis.generator</groupId>\n\t\t    <artifactId>mybatis-generator-core</artifactId>\n\t\t    <version>1.3.6</version>\n\t\t    <scope>compile</scope>\n\t\t    <optional>true</optional>\n\t\t</dependency>\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br"),t("span",{staticClass:"line-number"},[s._v("54")]),t("br"),t("span",{staticClass:"line-number"},[s._v("55")]),t("br"),t("span",{staticClass:"line-number"},[s._v("56")]),t("br"),t("span",{staticClass:"line-number"},[s._v("57")]),t("br")])]),t("ul",[t("li",[s._v("App.java")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('@SpringBootApplication\n//扫描 mybatis mapper 包路径,注意需要修改成你自己的包路径\n@MapperScan(basePackages = "com.xiaoping.mapper")\n//扫描 所有需要的包, 包含一些自用的工具类包 所在的路径\n@ComponentScan(basePackages= {"com.xiaoping"})\npublic class App {\n    \n    public static void main(String[] args) throws Exception {\n    \t// SpringApplication 将引导我们的应用，启动 Spring，相应地启动被自动配置的 Tomcat web 服务器。\n    \t// 我们需要将 Example.class 作为参数传递给 run 方法，以此告诉 SpringApplication \n    \t// 谁是主要的 Spring 组件，并传递 args 数组以暴露所有的命令行参数。    \n        SpringApplication.run(App.class, args);\n    }\n}\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("ul",[t("li",[s._v("application.properties")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("# listen port 配置服务器监听的端口号，缺省值为 8080\nserver.port=8080\n\n# datasource  配置数据源\nspring.datasource.url=jdbc:mysql://localhost:3306/test\nspring.datasource.username=root\nspring.datasource.password=root\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\n\n# match all for URL 配置路由匹配规则是否可以带后缀\n# 开启后 /index 可以匹配任意后缀访问 -> /index.html /index.php /index.*  eq /index\nspring.mvc.pathmatch.use-suffix-pattern=true\n\n# static resources 配置静态资源访问路径\nspring.mvc.static-path-pattern=/public/**\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("ul",[t("li",[s._v("WebExceptionHandler.java")])]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('// 由于我们这里捕获的是 Exception ，只要服务端发生异常，程序会统一在此处理\n@ControllerAdvice\npublic class WebExceptionHandler {\n\n\t@ExceptionHandler(value = Exception.class)\n\tpublic Object errorHandler(HttpServletRequest req, HttpServletResponse res, Exception e) {\n\t\te.printStackTrace();\n\t\tModelAndView mav = new ModelAndView();\n\t\tmav.addObject("ex", e.getMessage());\n\t\tmav.setViewName("error");\n\t\treturn mav;\n\t\t\n\t}\n}\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("h2",{attrs:{id:"run"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#run"}},[s._v("#")]),s._v(" Run")]),s._v(" "),t("p",[s._v("当你访问 "),t("code",[s._v("127.0.0.1:8080")]),s._v(" 或 "),t("code",[s._v("127.0.0.1:8080/index")]),s._v(" 亦或是 "),t("code",[s._v("127.0.0.1:8080/index.html")]),s._v(" 时，应该会看到：\n"),t("img",{attrs:{src:"https://img-blog.csdn.net/20180412143347168?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3hpYW9waW5nMDkxNQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70",alt:"这里写图片描述"}})]),s._v(" "),t("h2",{attrs:{id:"源码地址"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#源码地址"}},[s._v("#")]),s._v(" 源码地址")]),s._v(" "),t("p",[s._v("https://github.com/xiaop1ng/PlayWithSpringBoot")])])}),[],!1,null,null,null);n.default=e.exports}}]);